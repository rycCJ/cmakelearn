让我们看一下这行关键代码：
map[nums[i]] = i;

这行代码的意思是：将数组中的数值 nums[i] 作为键，将该数值的索引 i 作为值，存入到哈希表 map 中。

为什么必须这样设置？

这和我们的“目标”有关。我们的目标是：对于当前遍历到的数 nums[i]，我们需要快速查找**“它的另一半”（complement）是否存在**。

我们需要查找的是什么？ 是一个数值。

查找的工具是什么？ 是哈希表 map。

哈希表最擅长做什么？ 根据键来快速查找。

所以，我们必须把要查找的数值本身作为“键”，这样才能利用哈希表 O(1) 的超高查询效率。